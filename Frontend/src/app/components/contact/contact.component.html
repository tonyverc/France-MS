<!-- mise en place file d'ariane --> 

<div class="breadcrumbs text-2xl p-3">
  <ul class="flex items-center space-x-2">
    <!-- Accueil -->
    <li class="flex items-center">
      <a [routerLink]="''" class="flex items-center hover:text-[#34219A]">
        <!-- Icône Home -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 stroke-current mr-1"
             fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M3 9.5L12 3l9 6.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V9.5z"/>
        </svg>
        Accueil
      </a>
    </li>

    <!-- Contact -->
    <li class="flex items-center text-gray-500">
      <!-- Icône contact -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="h-4 w-4 stroke-current mr-1">
      <path d="M544 144C552.8 144 560 151.2 560 160L560 480C560 488.8 552.8 496 544 496L96 496C87.2 496 80 488.8 80 480L80 160C80 151.2 87.2 144 96 144L544 144zM96 96C60.7 96 32 124.7 32 160L32 480C32 515.3 60.7 544 96 544L544 544C579.3 544 608 515.3 608 480L608 160C608 124.7 579.3 96 544 96L96 96zM240 312C270.9 312 296 286.9 296 256C296 225.1 270.9 200 240 200C209.1 200 184 225.1 184 256C184 286.9 209.1 312 240 312zM208 352C163.8 352 128 387.8 128 432C128 440.8 135.2 448 144 448L336 448C344.8 448 352 440.8 352 432C352 387.8 316.2 352 272 352L208 352zM408 208C394.7 208 384 218.7 384 232C384 245.3 394.7 256 408 256L488 256C501.3 256 512 245.3 512 232C512 218.7 501.3 208 488 208L408 208zM408 304C394.7 304 384 314.7 384 328C384 341.3 394.7 352 408 352L488 352C501.3 352 512 341.3 512 328C512 314.7 501.3 304 488 304L408 304z"/></svg>
      Contact
    </li>
  </ul>
</div>


<div class="w-auto mx-auto p-4 bg-gray-100 rounded-xl shadow-md flex flex-col lg:flex-row gap-4">
  
  <!-- Image à gauche -->
  <div class="w-auto lg:w-1/2 flex items-center justify-center">
    <img [src]="imgForm" alt="peniche en pleine mer" class="w-full h-full object-cover rounded-xl" />
  </div>

  <!-- Formulaire à droite -->
  <div class="w-auto  lg:w-1/2 flex flex-col border-3 border-black pt-2 p-2">
    <h2 class="text-3xl font-bold mb-4 text-center">Formulaire de contact</h2>

    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-4 text-2xl">
      <!-- Nom -->
      <div>
        <label class="block font-semibold">Nom *</label>
        <input type="text" formControlName="nom" class="w-full p-2 border rounded-2xl" />
        <p *ngIf="contactForm.get('nom')?.touched && contactForm.get('nom')?.invalid" class="text-red-600 text-sm">
          Le nom est obligatoire
        </p>
      </div>

      <!-- Email -->
      <div>
        <label class="block font-semibold">Email *</label>
        <input type="email" formControlName="email" class="w-full p-2 border rounded-2xl" />
        <p *ngIf="contactForm.get('email')?.touched && contactForm.get('email')?.errors?.['required']" class="text-red-600 text-lg">
          L'email est obligatoire
        </p>
        <p *ngIf="contactForm.get('email')?.touched && contactForm.get('email')?.errors?.['email']" class="text-red-600 text-lg">
          Format email invalide
        </p>
      </div>

      <!-- Contenu -->
      <div>
        <label class="block font-semibold">Message *</label>
        <textarea formControlName="contenu" rows="4" class="w-full p-2 border rounded-2xl"></textarea>
        <p *ngIf="contactForm.get('contenu')?.touched && contactForm.get('contenu')?.errors?.['required']" class="text-red-600 text-lg">
          Le message est obligatoire
        </p>
        <p *ngIf="contactForm.get('contenu')?.touched && contactForm.get('contenu')?.errors?.['minlength']" class="text-red-600 text-lg">
          Le message doit contenir au moins 10 caractères
        </p>
      </div>

      <!-- Téléphone -->
      <div>
        <label class="block font-semibold">Téléphone (optionnel)</label>
        <input type="tel" formControlName="telephone" class="w-full p-2 border rounded-2xl" />
      </div>

      <!-- Bouton -->
        <div class="flex justify-center">
        <button 
            type="submit" 
            class="lg:w-xl bg-[#A39F22] text-white font-bold py-2 px-4 m-6 rounded-2xl hover:bg-[#34219A]"
            [disabled]="!contactForm.valid">
            Envoyer
        </button>
        </div>


    </form>
        <!-- Modal de confirmation -->
        <div *ngIf="successMessage" class="toast toast-top toast-center">
            <div class="alert alert-success">
                <span>{{ successMessage }}</span>
            </div>
        </div>
  </div>
</div>
